{"version":3,"sources":["components/Person.js","services/phonebook.js","components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","components/NegNotification.js","App.js","index.js"],"names":["Person","props","person","name","number","onClick","deletePerson","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Persons","personsToShow","persons","filter","toLowerCase","startsWith","newSearch","map","key","console","log","eleman","find","n","window","confirm","phoneService","setPersons","deleteItem","Filter","useState","setNewSearch","value","onChange","event","target","PersonForm","newName","setNewName","newNumber","setNewNumber","onSubmit","preventDefault","findIndex","updatedEleman","uu","copyPers","setErrorMessage","setTimeout","catch","error","setNegErrorMessage","concat","type","Notification","message","style","color","background","fontSize","borderStyle","borderTadius","padding","marginBottom","NegNotification","App","errorMessage","negErrorMessage","useEffect","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.48210836.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = (props) => {\r\n    return(\r\n        <div>\r\n            {props.person.name} {props.person.number} <button onClick={props.deletePerson}>delete</button>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default Person\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data) \r\n}\r\n    \r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n    \r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\nimport Person from './Person'\r\nimport phoneService from '../services/phonebook'\r\n\r\n\r\nconst Persons = (props) => {\r\n    const personsToShow = props.persons.filter(person => person.name.toLowerCase().startsWith(props.newSearch.toLowerCase()))\r\n\r\n    const deleteItem = (id) => {\r\n        console.log('Id to delete is ', id)\r\n\r\n        const eleman = props.persons.find(n => n.id === id)\r\n\r\n\r\n        if (window.confirm(`Delete ${eleman.name}?`)) { \r\n            phoneService.remove(id)\r\n            .then(response=>{\r\n                console.log(response)\r\n                props.setPersons(props.persons.filter(person=>person.id!==id))\r\n            })\r\n\r\n            \r\n            \r\n        }\r\n    }\r\n\r\n    return(\r\n        <>\r\n            {personsToShow.map(person=> <Person key = {person.name} person = {person} deletePerson={()=>deleteItem(person.id)}/>)}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Persons","import React, { useState } from 'react'\r\n\r\nconst Filter = (props) => {\r\n    const [ newSearch, setNewSearch ] = useState('')\r\n\r\n    const handleSearchChange = (event) => {\r\n        setNewSearch(event.target.value)\r\n        props.setNewSearch(event.target.value)\r\n    }\r\n\r\n    return(\r\n        <div>\r\n          search: <input value = {newSearch} onChange={handleSearchChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React, { useState } from 'react'\r\nimport phoneService from '../services/phonebook'\r\n\r\nconst PersonForm = (props) => {\r\n    const [ newName, setNewName ] = useState('')\r\n    const [ newNumber, setNewNumber ] = useState('')\r\n    const addName = (event) => {\r\n      event.preventDefault()\r\n  \r\n      function contains(person) { \r\n        return person.name === newName;\r\n      }\r\n  \r\n      if(props.persons.findIndex(contains) !== -1) {\r\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n          console.log(newName, '  hhe ', newNumber)\r\n          const eleman = props.persons.find(n => n.name === newName)\r\n\r\n          console.log(eleman)\r\n          const updatedEleman = {...eleman, number: newNumber}\r\n          console.log(updatedEleman)\r\n\r\n          phoneService.update(eleman.id, updatedEleman)\r\n          .then(response=>{\r\n            console.log(response)\r\n            const uu = props.persons.map(n=>n.name!==newName?n:response)\r\n            console.log(uu)\r\n            props.copyPers(uu)\r\n            props.setErrorMessage(`Changed number for ${newName}`)\r\n            setTimeout(() => {\r\n              props.setErrorMessage(null)\r\n            }, 5000)\r\n            setNewName('')\r\n            setNewNumber('')\r\n          })\r\n          .catch(error => {\r\n            props.setNegErrorMessage(`Information of ${newName} is removed from server`)\r\n            setTimeout(() => {\r\n              props.setNegErrorMessage(null)\r\n            }, 5000)\r\n            props.copyPers(props.persons.filter(n=>n.name!==newName))\r\n          })\r\n        }\r\n        setNewName('')\r\n        setNewNumber('')\r\n      }\r\n      else{\r\n        const person = {\r\n          name: newName,\r\n          number: newNumber\r\n        }\r\n\r\n        phoneService\r\n        .create(person)\r\n        .then(response => {\r\n        props.copyPers(props.persons.concat(response))\r\n        props.setErrorMessage(`Added number for ${newName}`)\r\n        setTimeout(() => {\r\n          props.setErrorMessage(null)\r\n        }, 5000)\r\n\r\n        setNewName('')\r\n        setNewNumber('')\r\n      })\r\n      }\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n      }\r\n      const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n      }\r\n    \r\n\r\n    return(\r\n        <form onSubmit={addName}>\r\n        <div>\r\n            name: <input value = {newName} onChange={handleNameChange}/>\r\n          </div>\r\n          <div>\r\n            number: <input value = {newNumber} onChange={handleNumberChange}/>\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n  \r\n    )\r\n\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n\r\n    const errorStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderTadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n      }\r\n\r\n\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={errorStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React from 'react'\r\n\r\nconst NegNotification = ({ message }) => {\r\n\r\n    const errorStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderTadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n      }\r\n\r\n\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={errorStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default NegNotification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport NegNotification from './components/NegNotification'\nimport phoneService from './services/phonebook'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newSearch, setNewSearch ] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [negErrorMessage, setNegErrorMessage] = useState(null)\n\n  const copyPers = (eleman) =>{\n    console.log(eleman)\n    setPersons(eleman)\n  }\n\n  useEffect(() => {\n    console.log('effect')\n    phoneService\n    .getAll()\n    .then(response => {\n        console.log('promise fulfilled')\n        setPersons(response)\n      })\n  }, [])\n  console.log('render', persons.length, 'persons')\n\n  return (\n    <div>\n      <Notification message={errorMessage}/>\n      <NegNotification message={negErrorMessage}/>\n      <h2>Phonebook</h2>\n      <Filter setNewSearch={setNewSearch}/>\n      <h2>Add new</h2>\n      <PersonForm persons={persons} copyPers={copyPers} setErrorMessage={setErrorMessage} setNegErrorMessage={setNegErrorMessage}/>\n      <h2>Numbers</h2>\n      <Persons persons={persons} newSearch={newSearch} setPersons={setPersons}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}